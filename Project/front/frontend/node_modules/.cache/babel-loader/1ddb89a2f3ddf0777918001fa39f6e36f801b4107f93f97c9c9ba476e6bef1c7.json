{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Win10\\\\Documents\\\\GitHub\\\\ObrazovniSoftProjekat\\\\Project\\\\front\\\\frontend\\\\src\\\\components\\\\ContentViewer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = 'http://localhost:5000/api';\nfunction ContentViewer({\n  lesson,\n  onBack,\n  onSuccess,\n  onError,\n  onLessonUpdate\n}) {\n  _s();\n  const [sections, setSections] = useState([]);\n  const [expandedSection, setExpandedSection] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [ontology, setOntology] = useState([]);\n  const [showOntology, setShowOntology] = useState(false);\n  useEffect(() => {\n    if (lesson !== null && lesson !== void 0 && lesson.sections) {\n      setSections(lesson.sections);\n    } else {\n      fetchSections();\n    }\n    if (lesson !== null && lesson !== void 0 && lesson.id) {\n      fetchOntology();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lesson]);\n  const fetchSections = async () => {\n    if (!(lesson !== null && lesson !== void 0 && lesson.id)) return;\n    try {\n      setLoading(true);\n      const response = await axios.get(`${API_URL}/lessons/${lesson.id}/sections`);\n      setSections(response.data.sections || []);\n    } catch (err) {\n      onError('Failed to fetch sections');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchOntology = async () => {\n    if (!(lesson !== null && lesson !== void 0 && lesson.id)) return;\n    try {\n      const response = await axios.get(`${API_URL}/lessons/${lesson.id}/ontology`);\n      setOntology(response.data.relationships || []);\n    } catch (err) {\n      console.error('Failed to fetch ontology:', err);\n    }\n  };\n  const fetchLearningObjects = async sectionId => {\n    try {\n      const response = await axios.get(`${API_URL}/sections/${sectionId}`);\n      const updatedSection = response.data.section;\n      setSections(sections.map(s => s.id === sectionId ? {\n        ...s,\n        learning_objects: updatedSection.learning_objects\n      } : s));\n    } catch (err) {\n      console.error('Failed to fetch learning objects:', err);\n    }\n  };\n  const toggleSection = sectionId => {\n    if (expandedSection === sectionId) {\n      setExpandedSection(null);\n    } else {\n      setExpandedSection(sectionId);\n      // Fetch learning objects if not already loaded\n      const section = sections.find(s => s.id === sectionId);\n      if (section && !section.learning_objects) {\n        fetchLearningObjects(sectionId);\n      }\n    }\n  };\n  const handleParseLesson = async () => {\n    try {\n      setLoading(true);\n      const response = await axios.post(`${API_URL}/lessons/${lesson.id}/parse`);\n      const {\n        sections: newSections,\n        section_count,\n        learning_object_count,\n        ontology_relationships\n      } = response.data;\n      setSections(newSections || []);\n      onSuccess(`Parsed ${section_count} sections with ${learning_object_count} learning objects and ${ontology_relationships} ontology relationships!`);\n\n      // Refresh ontology\n      fetchOntology();\n\n      // Update parent with new lesson data\n      if (onLessonUpdate) {\n        onLessonUpdate({\n          ...lesson,\n          sections: newSections,\n          section_count\n        });\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      onError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Failed to parse lesson');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getLearningObjectTypeIcon = type => {\n    const icons = {\n      concept: 'üí°',\n      definition: 'üìñ',\n      procedure: 'üìã',\n      principle: '‚öñÔ∏è',\n      example: 'üìù',\n      fact: '‚úì'\n    };\n    return icons[type] || 'üìå';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content-viewer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-back\",\n            onClick: onBack,\n            children: \"\\u2190 Back to Lessons\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"\\uD83D\\uDCC4 \", lesson.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), lesson.filename && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"filename\",\n            children: lesson.filename\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), sections.length === 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-primary\",\n          onClick: handleParseLesson,\n          disabled: loading,\n          children: loading ? 'Parsing...' : 'üîç Parse Content'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), lesson.summary && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"lesson-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83D\\uDCCB Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: lesson.summary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this), sections.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ontology-section\",\n        style: {\n          padding: '20px',\n          borderTop: '1px solid var(--neutral-200)',\n          background: 'var(--neutral-50)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            cursor: 'pointer'\n          },\n          onClick: () => setShowOntology(!showOntology),\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              margin: 0\n            },\n            children: \"\\uD83D\\uDD78\\uFE0F Domain Ontology\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"badge\",\n              style: {\n                background: 'var(--primary-100)',\n                color: 'var(--primary-700)',\n                padding: '2px 8px',\n                borderRadius: '10px',\n                fontSize: '0.8rem'\n              },\n              children: [ontology.length, \" Relationships\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: showOntology ? '‚ñº' : '‚ñ∂'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }, this), showOntology && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ontology-content\",\n          style: {\n            marginTop: '15px'\n          },\n          children: ontology.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ontology-list\",\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: '10px'\n            },\n            children: ontology.map((rel, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ontology-card\",\n              style: {\n                background: 'white',\n                padding: '12px',\n                borderRadius: '8px',\n                border: '1px solid var(--neutral-200)',\n                boxShadow: '0 1px 3px rgba(0,0,0,0.05)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '10px',\n                  flexWrap: 'wrap'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: '600'\n                  },\n                  children: rel.source_title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: '0.7rem',\n                    fontWeight: '700',\n                    textTransform: 'uppercase',\n                    color: 'var(--primary-600)',\n                    background: 'var(--primary-50)',\n                    padding: '2px 6px',\n                    borderRadius: '4px'\n                  },\n                  children: rel.relationship_type.replace('_', ' ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontWeight: '600'\n                  },\n                  children: rel.target_title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 25\n              }, this), rel.description && /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  margin: '8px 0 0 0',\n                  fontSize: '0.85rem',\n                  color: 'var(--neutral-600)',\n                  fontStyle: 'italic'\n                },\n                children: rel.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 27\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 23\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              textAlign: 'center',\n              color: 'var(--neutral-500)',\n              fontSize: '0.9rem'\n            },\n            children: \"No ontology relationships identified yet.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this), \" Parsing lesson content...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }, this) : sections.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"This lesson hasn't been parsed yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Click \\\"Parse Content\\\" to extract sections and learning objects using AI.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sections-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"\\uD83D\\uDCD1 Sections (\", sections.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }, this), sections.map((section, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            onClick: () => toggleSection(section.id),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-title\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"section-number\",\n                children: idx + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: section.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 21\n              }, this), section.start_page && section.end_page && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"page-range\",\n                children: [\"Pages \", section.start_page, \"-\", section.end_page]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"lo-count\",\n                children: [section.learning_object_count || 0, \" Learning Objects\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"expand-icon\",\n                children: expandedSection === section.id ? '‚ñº' : '‚ñ∂'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 17\n          }, this), expandedSection === section.id && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-content\",\n            children: [section.summary && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section-summary\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: section.summary\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 23\n            }, this), section.learning_objects && section.learning_objects.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"learning-objects\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Learning Objects:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 25\n              }, this), section.learning_objects.map(lo => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"learning-object\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"lo-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"lo-icon\",\n                    children: getLearningObjectTypeIcon(lo.object_type)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"lo-title\",\n                    children: lo.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"lo-type\",\n                    children: lo.object_type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 29\n                }, this), lo.content && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"lo-content\",\n                  children: lo.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 31\n                }, this), lo.keywords && lo.keywords.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"lo-keywords\",\n                  children: lo.keywords.map((kw, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"keyword-tag\",\n                    children: kw\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 35\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 31\n                }, this)]\n              }, lo.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 27\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"no-los\",\n              children: \"No learning objects extracted for this section.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 23\n            }, this), section.content && /*#__PURE__*/_jsxDEV(\"details\", {\n              className: \"raw-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n                children: \"View Raw Content\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                children: section.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 19\n          }, this)]\n        }, section.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: sections.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Sections\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: sections.reduce((acc, s) => acc + (s.learning_object_count || 0), 0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"Learning Objects\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n}\n_s(ContentViewer, \"Sg4fRTShHh6f7P67UzqfWUmxgYo=\");\n_c = ContentViewer;\nexport default ContentViewer;\nvar _c;\n$RefreshReg$(_c, \"ContentViewer\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","API_URL","ContentViewer","lesson","onBack","onSuccess","onError","onLessonUpdate","_s","sections","setSections","expandedSection","setExpandedSection","loading","setLoading","ontology","setOntology","showOntology","setShowOntology","fetchSections","id","fetchOntology","response","get","data","err","relationships","console","error","fetchLearningObjects","sectionId","updatedSection","section","map","s","learning_objects","toggleSection","find","handleParseLesson","post","newSections","section_count","learning_object_count","ontology_relationships","_err$response","_err$response$data","getLearningObjectTypeIcon","type","icons","concept","definition","procedure","principle","example","fact","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","title","filename","length","disabled","summary","style","padding","borderTop","background","display","justifyContent","alignItems","cursor","margin","gap","color","borderRadius","fontSize","marginTop","flexDirection","rel","idx","border","boxShadow","flexWrap","fontWeight","source_title","textTransform","relationship_type","replace","target_title","description","fontStyle","textAlign","start_page","end_page","lo","object_type","content","keywords","kw","i","reduce","acc","_c","$RefreshReg$"],"sources":["C:/Users/Win10/Documents/GitHub/ObrazovniSoftProjekat/Project/front/frontend/src/components/ContentViewer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000/api';\r\n\r\nfunction ContentViewer({ lesson, onBack, onSuccess, onError, onLessonUpdate }) {\r\n  const [sections, setSections] = useState([]);\r\n  const [expandedSection, setExpandedSection] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [ontology, setOntology] = useState([]);\r\n  const [showOntology, setShowOntology] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (lesson?.sections) {\r\n      setSections(lesson.sections);\r\n    } else {\r\n      fetchSections();\r\n    }\r\n    \r\n    if (lesson?.id) {\r\n      fetchOntology();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lesson]);\r\n\r\n  const fetchSections = async () => {\r\n    if (!lesson?.id) return;\r\n    \r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(`${API_URL}/lessons/${lesson.id}/sections`);\r\n      setSections(response.data.sections || []);\r\n    } catch (err) {\r\n      onError('Failed to fetch sections');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchOntology = async () => {\r\n    if (!lesson?.id) return;\r\n    try {\r\n      const response = await axios.get(`${API_URL}/lessons/${lesson.id}/ontology`);\r\n      setOntology(response.data.relationships || []);\r\n    } catch (err) {\r\n      console.error('Failed to fetch ontology:', err);\r\n    }\r\n  };\r\n\r\n  const fetchLearningObjects = async (sectionId) => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/sections/${sectionId}`);\r\n      const updatedSection = response.data.section;\r\n      \r\n      setSections(sections.map(s => \r\n        s.id === sectionId ? { ...s, learning_objects: updatedSection.learning_objects } : s\r\n      ));\r\n    } catch (err) {\r\n      console.error('Failed to fetch learning objects:', err);\r\n    }\r\n  };\r\n\r\n  const toggleSection = (sectionId) => {\r\n    if (expandedSection === sectionId) {\r\n      setExpandedSection(null);\r\n    } else {\r\n      setExpandedSection(sectionId);\r\n      // Fetch learning objects if not already loaded\r\n      const section = sections.find(s => s.id === sectionId);\r\n      if (section && !section.learning_objects) {\r\n        fetchLearningObjects(sectionId);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleParseLesson = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.post(`${API_URL}/lessons/${lesson.id}/parse`);\r\n      \r\n      const { sections: newSections, section_count, learning_object_count, ontology_relationships } = response.data;\r\n      setSections(newSections || []);\r\n      onSuccess(`Parsed ${section_count} sections with ${learning_object_count} learning objects and ${ontology_relationships} ontology relationships!`);\r\n      \r\n      // Refresh ontology\r\n      fetchOntology();\r\n      \r\n      // Update parent with new lesson data\r\n      if (onLessonUpdate) {\r\n        onLessonUpdate({ ...lesson, sections: newSections, section_count });\r\n      }\r\n    } catch (err) {\r\n      onError(err.response?.data?.error || 'Failed to parse lesson');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getLearningObjectTypeIcon = (type) => {\r\n    const icons = {\r\n      concept: 'üí°',\r\n      definition: 'üìñ',\r\n      procedure: 'üìã',\r\n      principle: '‚öñÔ∏è',\r\n      example: 'üìù',\r\n      fact: '‚úì'\r\n    };\r\n    return icons[type] || 'üìå';\r\n  };\r\n\r\n  return (\r\n    <div className=\"content-viewer\">\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <div>\r\n            <button className=\"btn-back\" onClick={onBack}>‚Üê Back to Lessons</button>\r\n            <h2>üìÑ {lesson.title}</h2>\r\n            {lesson.filename && <span className=\"filename\">{lesson.filename}</span>}\r\n          </div>\r\n          {sections.length === 0 && (\r\n            <button \r\n              className=\"btn-primary\" \r\n              onClick={handleParseLesson}\r\n              disabled={loading}\r\n            >\r\n              {loading ? 'Parsing...' : 'üîç Parse Content'}\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {lesson.summary && (\r\n          <div className=\"lesson-summary\">\r\n            <h4>üìã Summary</h4>\r\n            <p>{lesson.summary}</p>\r\n          </div>\r\n        )}\r\n\r\n        {/* Domain Ontology Section */}\r\n        {sections.length > 0 && (\r\n          <div className=\"ontology-section\" style={{ padding: '20px', borderTop: '1px solid var(--neutral-200)', background: 'var(--neutral-50)' }}>\r\n            <div \r\n              style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', cursor: 'pointer' }}\r\n              onClick={() => setShowOntology(!showOntology)}\r\n            >\r\n              <h4 style={{ margin: 0 }}>üï∏Ô∏è Domain Ontology</h4>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>\r\n                <span className=\"badge\" style={{ background: 'var(--primary-100)', color: 'var(--primary-700)', padding: '2px 8px', borderRadius: '10px', fontSize: '0.8rem' }}>\r\n                  {ontology.length} Relationships\r\n                </span>\r\n                <span>{showOntology ? '‚ñº' : '‚ñ∂'}</span>\r\n              </div>\r\n            </div>\r\n\r\n            {showOntology && (\r\n              <div className=\"ontology-content\" style={{ marginTop: '15px' }}>\r\n                {ontology.length > 0 ? (\r\n                  <div className=\"ontology-list\" style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n                    {ontology.map((rel, idx) => (\r\n                      <div key={idx} className=\"ontology-card\" style={{ \r\n                        background: 'white', \r\n                        padding: '12px', \r\n                        borderRadius: '8px', \r\n                        border: '1px solid var(--neutral-200)',\r\n                        boxShadow: '0 1px 3px rgba(0,0,0,0.05)'\r\n                      }}>\r\n                        <div style={{ display: 'flex', alignItems: 'center', gap: '10px', flexWrap: 'wrap' }}>\r\n                          <span style={{ fontWeight: '600' }}>{rel.source_title}</span>\r\n                          <span style={{ \r\n                            fontSize: '0.7rem', \r\n                            fontWeight: '700', \r\n                            textTransform: 'uppercase', \r\n                            color: 'var(--primary-600)',\r\n                            background: 'var(--primary-50)',\r\n                            padding: '2px 6px',\r\n                            borderRadius: '4px'\r\n                          }}>\r\n                            {rel.relationship_type.replace('_', ' ')}\r\n                          </span>\r\n                          <span style={{ fontWeight: '600' }}>{rel.target_title}</span>\r\n                        </div>\r\n                        {rel.description && (\r\n                          <p style={{ margin: '8px 0 0 0', fontSize: '0.85rem', color: 'var(--neutral-600)', fontStyle: 'italic' }}>\r\n                            {rel.description}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                ) : (\r\n                  <p style={{ textAlign: 'center', color: 'var(--neutral-500)', fontSize: '0.9rem' }}>\r\n                    No ontology relationships identified yet.\r\n                  </p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {loading ? (\r\n          <div className=\"loading-state\">\r\n            <span className=\"spinner\"></span> Parsing lesson content...\r\n          </div>\r\n        ) : sections.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <p>This lesson hasn't been parsed yet.</p>\r\n            <p>Click \"Parse Content\" to extract sections and learning objects using AI.</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"sections-list\">\r\n            <h3>üìë Sections ({sections.length})</h3>\r\n            \r\n            {sections.map((section, idx) => (\r\n              <div key={section.id} className=\"section-card\">\r\n                <div \r\n                  className=\"section-header\"\r\n                  onClick={() => toggleSection(section.id)}\r\n                >\r\n                  <div className=\"section-title\">\r\n                    <span className=\"section-number\">{idx + 1}</span>\r\n                    <h4>{section.title}</h4>\r\n                    {section.start_page && section.end_page && (\r\n                      <span className=\"page-range\">\r\n                        Pages {section.start_page}-{section.end_page}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"section-meta\">\r\n                    <span className=\"lo-count\">\r\n                      {section.learning_object_count || 0} Learning Objects\r\n                    </span>\r\n                    <span className=\"expand-icon\">\r\n                      {expandedSection === section.id ? '‚ñº' : '‚ñ∂'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {expandedSection === section.id && (\r\n                  <div className=\"section-content\">\r\n                    {section.summary && (\r\n                      <div className=\"section-summary\">\r\n                        <p>{section.summary}</p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {section.learning_objects && section.learning_objects.length > 0 ? (\r\n                      <div className=\"learning-objects\">\r\n                        <h5>Learning Objects:</h5>\r\n                        {section.learning_objects.map((lo) => (\r\n                          <div key={lo.id} className=\"learning-object\">\r\n                            <div className=\"lo-header\">\r\n                              <span className=\"lo-icon\">\r\n                                {getLearningObjectTypeIcon(lo.object_type)}\r\n                              </span>\r\n                              <span className=\"lo-title\">{lo.title}</span>\r\n                              <span className=\"lo-type\">{lo.object_type}</span>\r\n                            </div>\r\n                            {lo.content && (\r\n                              <p className=\"lo-content\">{lo.content}</p>\r\n                            )}\r\n                            {lo.keywords && lo.keywords.length > 0 && (\r\n                              <div className=\"lo-keywords\">\r\n                                {lo.keywords.map((kw, i) => (\r\n                                  <span key={i} className=\"keyword-tag\">{kw}</span>\r\n                                ))}\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    ) : (\r\n                      <p className=\"no-los\">No learning objects extracted for this section.</p>\r\n                    )}\r\n\r\n                    {section.content && (\r\n                      <details className=\"raw-content\">\r\n                        <summary>View Raw Content</summary>\r\n                        <pre>{section.content}</pre>\r\n                      </details>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"content-stats\">\r\n          <div className=\"stat\">\r\n            <span className=\"stat-value\">{sections.length}</span>\r\n            <span className=\"stat-label\">Sections</span>\r\n          </div>\r\n          <div className=\"stat\">\r\n            <span className=\"stat-value\">\r\n              {sections.reduce((acc, s) => acc + (s.learning_object_count || 0), 0)}\r\n            </span>\r\n            <span className=\"stat-label\">Learning Objects</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContentViewer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}